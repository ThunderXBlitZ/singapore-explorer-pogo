(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{173:(e,t,r)=>{Promise.resolve().then(r.bind(r,6789))},255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(5744),r(589)},2146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(5262)},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return l}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return a?new a:new n}function s(e){return a?a.bind(e):n.bind(e)}function l(){return a?a.snapshot():function(e,...t){return e(...t)}}},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)},6645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(8229)._(r(7357));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let o={...a,...t};return(0,n.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6789:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var n=r(5155),a=r(2115),o=r(6645),s=r.n(o);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:r,strokeWidth:s?24*Number(o)/Number(n):o,className:i("lucide",l),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...s}=r;return(0,a.createElement)(d,{ref:n,iconNode:t,className:i("lucide-".concat(l(e)),o),...s})});return r.displayName="".concat(e),r},h=u("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),f=u("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),m=u("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),w=u("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function x(e){let{onMove:t}=e,[r,o]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{let e=e=>{let t=e.key.toLowerCase();["arrowup","arrowdown","arrowleft","arrowright","w","a","s","d"].includes(t)&&(e.preventDefault(),o(e=>new Set(e).add(t)))},t=e=>{let t=e.key.toLowerCase();["arrowup","arrowdown","arrowleft","arrowright","w","a","s","d"].includes(t)&&o(e=>{let r=new Set(e);return r.delete(t),r})};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,a.useEffect)(()=>{if(0===r.size)return;let e=setInterval(()=>{(r.has("arrowup")||r.has("w"))&&t("up"),(r.has("arrowdown")||r.has("s"))&&t("down"),(r.has("arrowleft")||r.has("a"))&&t("left"),(r.has("arrowright")||r.has("d"))&&t("right")},100);return()=>clearInterval(e)},[r,t]);let s=e=>{o(t=>new Set(t).add(e))},l=e=>{o(t=>{let r=new Set(t);return r.delete(e),r})};return(0,n.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,n.jsx)("p",{className:"mb-2 text-sm text-gray-600",children:"Use arrow keys or WASD to move, or tap/hold the buttons below"}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,n.jsx)("div",{className:"col-start-2",children:(0,n.jsx)("button",{className:"w-16 h-16 flex items-center justify-center rounded-full ".concat(r.has("arrowup")||r.has("w")?"bg-blue-600":"bg-blue-500"," text-white"),onMouseDown:()=>s("arrowup"),onMouseUp:()=>l("arrowup"),onTouchStart:()=>s("arrowup"),onTouchEnd:()=>l("arrowup"),"aria-label":"Move up",children:(0,n.jsx)(h,{size:24})})}),(0,n.jsx)("div",{className:"col-start-1 row-start-2",children:(0,n.jsx)("button",{className:"w-16 h-16 flex items-center justify-center rounded-full ".concat(r.has("arrowleft")||r.has("a")?"bg-blue-600":"bg-blue-500"," text-white"),onMouseDown:()=>s("arrowleft"),onMouseUp:()=>l("arrowleft"),onTouchStart:()=>s("arrowleft"),onTouchEnd:()=>l("arrowleft"),"aria-label":"Move left",children:(0,n.jsx)(f,{size:24})})}),(0,n.jsx)("div",{className:"col-start-2 row-start-2",children:(0,n.jsx)("button",{className:"w-16 h-16 flex items-center justify-center rounded-full ".concat(r.has("arrowdown")||r.has("s")?"bg-blue-600":"bg-blue-500"," text-white"),onMouseDown:()=>s("arrowdown"),onMouseUp:()=>l("arrowdown"),onTouchStart:()=>s("arrowdown"),onTouchEnd:()=>l("arrowdown"),"aria-label":"Move down",children:(0,n.jsx)(m,{size:24})})}),(0,n.jsx)("div",{className:"col-start-3 row-start-2",children:(0,n.jsx)("button",{className:"w-16 h-16 flex items-center justify-center rounded-full ".concat(r.has("arrowright")||r.has("d")?"bg-blue-600":"bg-blue-500"," text-white"),onMouseDown:()=>s("arrowright"),onMouseUp:()=>l("arrowright"),onTouchStart:()=>s("arrowright"),onTouchEnd:()=>l("arrowright"),"aria-label":"Move right",children:(0,n.jsx)(w,{size:24})})})]})]})}function b(e){let{timeLeft:t,energy:r,score:a}=e;return(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 p-4 bg-white rounded-lg shadow-md",children:[(0,n.jsxs)("div",{className:"flex items-center mb-2 sm:mb-0",children:[(0,n.jsx)("div",{className:"text-gray-700 font-medium",children:"Time: "}),(0,n.jsx)("div",{className:"ml-2 font-bold text-lg",children:(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(t)})]}),(0,n.jsxs)("div",{className:"flex items-center mb-2 sm:mb-0",children:[(0,n.jsx)("div",{className:"text-gray-700 font-medium",children:"Energy: "}),(0,n.jsx)("div",{className:"ml-2 w-32 h-4 bg-gray-200 rounded-full overflow-hidden",children:(0,n.jsx)("div",{className:"h-full ".concat(r>60?"bg-green-500":r>30?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(r,"%")}})})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"text-gray-700 font-medium",children:"Score: "}),(0,n.jsx)("div",{className:"ml-2 font-bold text-lg",children:a})]})]})}function g(e){let{score:t,highScores:r,onRestart:a}=e;return(0,n.jsxs)("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Game Over!"}),(0,n.jsxs)("p",{className:"text-xl mb-6",children:["Your score: ",(0,n.jsx)("span",{className:"font-bold",children:t})]}),r.length>0&&(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"High Scores"}),(0,n.jsx)("ul",{className:"space-y-1",children:r.map((e,t)=>(0,n.jsxs)("li",{className:"flex justify-between max-w-xs mx-auto",children:[(0,n.jsxs)("span",{children:["#",t+1]}),(0,n.jsx)("span",{className:"font-medium",children:e.score}),(0,n.jsx)("span",{className:"text-gray-500 text-sm",children:new Date(e.date).toLocaleDateString()})]},t))})]}),(0,n.jsx)("button",{onClick:a,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Play Again"})]})}let p=s()(()=>Promise.all([r.e(484),r.e(761),r.e(146)]).then(r.bind(r,1146)),{loadableGenerated:{webpack:()=>[1146]},ssr:!1,loading:()=>(0,n.jsx)("div",{className:"w-full h-[500px] bg-gray-200 flex items-center justify-center",children:"Loading map..."})});function y(){let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),[s,l]=(0,a.useState)(120),[i,c]=(0,a.useState)(100),[d,u]=(0,a.useState)(0),[h,f]=(0,a.useState)([1.3521,103.8198]),[m,w]=(0,a.useState)([]),[y,j]=(0,a.useState)([]),[v,N]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(e&&!r){w(Array.from({length:10},(e,t)=>({id:t,position:[1.3521+(Math.random()-.5)*.02,103.8198+(Math.random()-.5)*.02],type:["normal","rare","epic","legendary"][Math.floor(4*Math.random())],points:[10,30,50,100][Math.floor(4*Math.random())],caught:!1}))),j(Array.from({length:5},(e,t)=>({id:t,position:[1.3521+(Math.random()-.5)*.015,103.8198+(Math.random()-.5)*.015],activated:!1})));let e=setInterval(()=>{l(t=>t<=1?(clearInterval(e),o(!0),0):t-1)},1e3);return()=>clearInterval(e)}},[e,r]),(0,a.useEffect)(()=>{if(e&&!r){let e=m.map(e=>!e.caught&&5e-4>S(h[0],h[1],e.position[0],e.position[1])&&i>=20?(c(e=>e-20),u(t=>t+e.points),{...e,caught:!0}):e);JSON.stringify(e)!==JSON.stringify(m)&&w(e);let t=y.map(e=>!e.activated&&5e-4>S(h[0],h[1],e.position[0],e.position[1])?(c(e=>Math.min(e+50,100)),{...e,activated:!0}):e);JSON.stringify(t)!==JSON.stringify(y)&&j(t)}},[h,e,r,m,y,i]);let S=(e,t,r,n)=>Math.sqrt(Math.pow(e-r,2)+Math.pow(t-n,2)),M=()=>{t(!0),o(!1),l(120),c(100),u(0),f([1.3521,103.8198])};return(0,a.useEffect)(()=>{r&&d>0&&N([...v,{score:d,date:new Date().toISOString()}].sort((e,t)=>t.score-e.score).slice(0,5))},[r,d,v]),(0,n.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:e?r?(0,n.jsx)(g,{score:d,highScores:v,onRestart:M}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{timeLeft:s,energy:i,score:d}),(0,n.jsx)("div",{className:"relative w-full h-[500px] border-4 border-blue-500 rounded-lg overflow-hidden",children:(0,n.jsx)(p,{playerPosition:h,creatures:m,pokeStops:y})}),(0,n.jsx)(x,{onMove:e=>{f(t=>{let[r,n]=t;switch(e){case"up":return[r+8e-4,n];case"down":return[r-8e-4,n];case"left":return[r,n-8e-4];case"right":return[r,n+8e-4];default:return t}})}})]}):(0,n.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to Singapore Explorer!"}),(0,n.jsx)("p",{className:"mb-6",children:"Explore Singapore, catch creatures, and activate PokeStops to refill your energy. You have 2 minutes to score as many points as possible!"}),(0,n.jsx)("button",{onClick:M,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Start Game"})]})})}},7357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(5155),a=r(2115),o=r(2146);function s(e){return{default:e&&"default"in e?e.default:e}}r(255);let l={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},i=function(e){let t={...l,...e},r=(0,a.lazy)(()=>t.loader().then(s)),i=t.loading;function c(e){let s=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,c=l?a.Suspense:a.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(c,{...l?{fallback:s}:{},children:d})}return c.displayName="LoadableComponent",c}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(173)),_N_E=e.O()}]);